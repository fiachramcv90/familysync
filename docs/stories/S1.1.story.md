# <!-- Powered by BMADâ„¢ Core -->

# Story S1.1: Fix Dashboard Component Architecture

## Status
ðŸš¨ **CRITICAL BLOCKER** - Not Started

## Story
**As a** authenticated user,  
**I want** the dashboard page to load without client-side exceptions,  
**so that** I can access the main application interface after successful login.

## Acceptance Criteria

1. **All missing components exist** and are properly exported with correct import paths
2. **Dashboard page loads** without throwing client-side JavaScript exceptions  
3. **Component interfaces match** the expected props and exports from dashboard page imports
4. **Basic UI renders** for all components (can be minimal/placeholder initially)
5. **TypeScript compilation passes** for dashboard page and all related components
6. **Authenticated users can navigate** to `/dashboard` without errors

## Tasks / Subtasks

- [ ] **Audit missing components** and create component files (AC: 1, 3)
  - [ ] Create `@/components/calendar/WeekNavigation.tsx` with proper exports
  - [ ] Create `@/components/calendar/WeekView.tsx` with proper exports  
  - [ ] Create `@/components/calendar/EmptyWeekState.tsx` with LoadingState, ErrorState exports
  - [ ] Create `@/components/family/FamilyMemberAvatar.tsx` with proper exports
  - [ ] Create `@/components/task/QuickAddModal.tsx` with proper exports
  - [ ] Create `@/components/ui/Button.tsx` with FloatingActionButton export
- [ ] **Implement basic component interfaces** (AC: 3, 4)
  - [ ] Define proper TypeScript interfaces for all component props
  - [ ] Create minimal functional components that render basic UI
  - [ ] Ensure all components accept expected props from dashboard imports
  - [ ] Add proper default exports and named exports as required
- [ ] **Fix dashboard import resolution** (AC: 1, 5)
  - [ ] Verify all import paths resolve correctly
  - [ ] Fix any module resolution errors
  - [ ] Ensure TypeScript can find all component definitions
  - [ ] Update tsconfig.json paths if needed
- [ ] **Test dashboard navigation** (AC: 2, 6)
  - [ ] Verify authenticated users can access `/dashboard` route
  - [ ] Confirm page loads without JavaScript errors in browser console
  - [ ] Test that all components render without throwing exceptions
  - [ ] Validate that layout and basic styling work

## Dev Notes

### Current Issue Analysis
The dashboard page (`src/app/dashboard/page.tsx`) imports several components that don't exist, causing runtime exceptions when authenticated users try to access the dashboard. This is a **critical blocker** preventing any meaningful use of the application.

**Missing Components Identified:**
```typescript
// These imports are failing:
import { WeekNavigation } from '@/components/calendar/WeekNavigation';
import { WeekView } from '@/components/calendar/WeekView';
import { EmptyWeekState, LoadingState, ErrorState } from '@/components/calendar/EmptyWeekState';
import { FamilyMemberAvatar } from '@/components/family/FamilyMemberAvatar';
import { QuickAddModal } from '@/components/task/QuickAddModal';
import { FloatingActionButton } from '@/components/ui/Button';
```

### Architecture Context

**Component Structure Expected:**
```
src/components/
â”œâ”€â”€ calendar/
â”‚   â”œâ”€â”€ WeekNavigation.tsx
â”‚   â”œâ”€â”€ WeekView.tsx  
â”‚   â””â”€â”€ EmptyWeekState.tsx
â”œâ”€â”€ family/
â”‚   â””â”€â”€ FamilyMemberAvatar.tsx
â”œâ”€â”€ task/
â”‚   â””â”€â”€ QuickAddModal.tsx
â””â”€â”€ ui/
    â””â”€â”€ Button.tsx
```

**Component Interface Requirements:**
Based on dashboard usage, components need these minimum interfaces:
- `WeekNavigation`: Basic navigation component
- `WeekView`: Calendar layout component accepting `isMobile`, `showSummary`, `className` props
- `EmptyWeekState`: State component accepting `isFirstTime` prop
- `LoadingState`: Loading component accepting `message` prop  
- `ErrorState`: Error component accepting `message`, `onRetry` props
- `FamilyMemberAvatar`: Avatar component accepting `member`, `size` props
- `QuickAddModal`: Modal component accepting `isOpen`, `onClose`, `defaultAssigneeId` props
- `FloatingActionButton`: Button component accepting `onClick`, `icon`, `label`, `size` props

### Technical Approach

1. **Create Minimal Components**: Start with basic functional components that satisfy the interface
2. **Match Expected Props**: Ensure components accept props as used in dashboard
3. **Basic Styling**: Use Tailwind classes for minimal acceptable appearance
4. **TypeScript Compliance**: Proper interfaces and type safety
5. **Incremental Enhancement**: Components can be enhanced in later stories

### Dependencies
- This story is **independent** and can be worked on immediately
- Blocks Story S1.2 (Real Data Integration) which needs these components to exist
- Required before any other dashboard-related work

## Testing

### Test Location Standards
- Component tests: `src/__tests__/components/` 
- Basic render tests for each component
- Dashboard integration test to verify no runtime errors

### Testing Requirements for This Story
- Verify each component renders without errors
- Test that dashboard page loads with all components
- Confirm TypeScript compilation passes
- Validate no console errors during page load

### Test Pattern Example
```typescript
// Basic component test
describe('WeekNavigation', () => {
  it('renders without errors', () => {
    render(<WeekNavigation />);
    expect(screen.getByRole('navigation')).toBeInTheDocument();
  });
});
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-10 | 1.0 | Initial critical blocker story for component architecture fix | BMad Orchestrator |

## Priority Classification

**Epic**: Project Stabilization  
**Phase**: 1 - Critical Blockers  
**Priority**: P0 - Critical  
**Estimated Effort**: 3-4 hours  
**Assigned Agent**: `web-dev` specialist  
**Risk**: High - Blocks all dashboard functionality  
**Dependencies**: None (can start immediately)